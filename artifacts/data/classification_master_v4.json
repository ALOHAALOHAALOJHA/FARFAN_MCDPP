{
    "metadata": {
        "version": "4.0.0-epistemological",
        "date": "2025-12-30",
        "status": "OFFICIAL",
        "description": "Master classification file incorporating refined epistemological strategies per type."
    },
    "contracts": {
        "Q001": {
            "type": "TYPE_A",
            "family": "Sem√°ntico"
        },
        "Q013": {
            "type": "TYPE_A",
            "family": "Sem√°ntico"
        },
        "Q002": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q005": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q007": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q011": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q017": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q018": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q020": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q023": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q024": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q025": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q027": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q029": {
            "type": "TYPE_B",
            "family": "Bayesiano"
        },
        "Q008": {
            "type": "TYPE_C",
            "family": "Causal"
        },
        "Q016": {
            "type": "TYPE_C",
            "family": "Causal"
        },
        "Q026": {
            "type": "TYPE_C",
            "family": "Causal"
        },
        "Q030": {
            "type": "TYPE_C",
            "family": "Causal"
        },
        "Q003": {
            "type": "TYPE_D",
            "family": "Financiero"
        },
        "Q004": {
            "type": "TYPE_D",
            "family": "Financiero"
        },
        "Q006": {
            "type": "TYPE_D",
            "family": "Financiero"
        },
        "Q009": {
            "type": "TYPE_D",
            "family": "Financiero"
        },
        "Q012": {
            "type": "TYPE_D",
            "family": "Financiero"
        },
        "Q015": {
            "type": "TYPE_D",
            "family": "Financiero"
        },
        "Q021": {
            "type": "TYPE_D",
            "family": "Financiero"
        },
        "Q022": {
            "type": "TYPE_D",
            "family": "Financiero"
        },
        "Q010": {
            "type": "TYPE_E",
            "family": "L√≥gico"
        },
        "Q014": {
            "type": "TYPE_E",
            "family": "L√≥gico"
        },
        "Q019": {
            "type": "TYPE_E",
            "family": "L√≥gico"
        },
        "Q028": {
            "type": "TYPE_E",
            "family": "L√≥gico"
        }
    },
    "refined_strategies": {
        "TYPE_A": {
            "n1_strategy": {
                "name": "semantic_bundling",
                "operation": "Agrupa evidencia preservando contexto sem√°ntico",
                "differs_from_concat": "Mantiene metadata de fuente y contexto",
                "output": "Bundle con trazabilidad sem√°ntica",
                "example": {
                    "input": [
                        {
                            "source": "DANE",
                            "text": "tasa 45.3%",
                            "context": "p√°rrafo 12"
                        },
                        {
                            "source": "Med Legal",
                            "text": "12 casos",
                            "context": "tabla 3"
                        }
                    ],
                    "output": {
                        "bundle_type": "semantic",
                        "facts": [],
                        "provenance": "preserved"
                    }
                }
            },
            "n2_strategy": {
                "name": "dempster_shafer",
                "operation": "Combina masas de probabilidad con gesti√≥n de conflicto",
                "rationale": "Maneja incertidumbre + conflicto sem√°ntico",
                "conflict_resolution": "Dempster's rule of combination"
            },
            "n3_fusion": {
                "name": "contradiction_veto",
                "operation": "Veto duro si contradicci√≥n sem√°ntica detectada",
                "formula": "if semantic_contradiction: confidence = 0.0"
            }
        },
        "TYPE_B": {
            "n1_strategy": {
                "name": "evidence_concatenation",
                "operation": "Concatenaci√≥n est√°ndar pre-bayesiana",
                "rationale": "Prior + likelihood deben coexistir antes de update",
                "preserve": "concat es CORRECTO aqu√≠",
                "output": "Array de evidencia heterog√©nea"
            },
            "n2_strategy": {
                "name": "bayesian_update",
                "operation": "P(H|E) = P(E|H) * P(H) / P(E)",
                "rationale": "Actualizaci√≥n bayesiana cl√°sica",
                "no_change": "Ya est√° bien especificado"
            },
            "n3_fusion": {
                "name": "statistical_gate",
                "operation": "Veto si significancia estad√≠stica falla",
                "conditions": [
                    {
                        "trigger": "p_value > 0.05",
                        "action": "reduce_confidence",
                        "multiplier": 0.5
                    },
                    {
                        "trigger": "sample_size < 30",
                        "action": "flag_caution",
                        "multiplier": 0.7
                    }
                ]
            }
        },
        "TYPE_C": {
            "n1_strategy": {
                "name": "graph_element_collection",
                "operation": "Recolecta nodos, aristas y contextos para construcci√≥n de DAG",
                "rationale": "DAG construction requiere elementos simult√°neos",
                "structure": {
                    "nodes": [
                        "lista de entidades"
                    ],
                    "edges": [
                        "lista de relaciones"
                    ],
                    "contexts": [
                        "lista de condiciones"
                    ]
                }
            },
            "n2_strategy": {
                "name": "topological_overlay",
                "operation": "Fusiona grafos detectando ciclos y validando topolog√≠a",
                "rationale": "Combina grafos parciales en estructura coherente",
                "validation": "Verifica acyclicity en cada fusi√≥n"
            },
            "n3_fusion": {
                "name": "cycle_detection_veto",
                "operation": "Veto TOTAL si ciclo detectado en DAG",
                "formula": "if has_cycle(DAG): confidence = 0.0; status = INVALID",
                "severity": "CRITICAL"
            }
        },
        "TYPE_D": {
            "n1_strategy": {
                "name": "financial_aggregation",
                "operation": "Agrega datos financieros con metadata de unidades",
                "differs_from_concat": "Preserva unidades y convierte a forma comparable",
                "normalization": {
                    "COP": "Convertir a % del presupuesto total",
                    "personas": "Convertir a % de poblaci√≥n objetivo",
                    "metas": "Convertir a % de magnitud del problema"
                },
                "output": {
                    "values": [],
                    "units_normalized": true,
                    "base_reference": "presupuesto_total"
                }
            },
            "n2_strategy": {
                "name": "weighted_financial_mean",
                "operation": "Promedio ponderado con pesos EXPL√çCITOS",
                "differs_from_weighted_mean": "Pesos documentados y justificados",
                "weight_schema": {
                    "magnitud_problema": 0.4,
                    "suficiencia_presupuestal": 0.4,
                    "cobertura_meta": 0.2
                },
                "formula": "Œ£(wi * vi_normalized) donde Œ£wi = 1.0",
                "transparency": "Pesos deben estar en contrato"
            },
            "n3_fusion": {
                "name": "sufficiency_gate",
                "operation": "Veto si presupuesto < umbral de viabilidad",
                "conditions": [
                    {
                        "trigger": "budget_gap > 50%",
                        "action": "block_branch",
                        "multiplier": 0.0
                    },
                    {
                        "trigger": "budget_gap > 30%",
                        "action": "reduce_confidence",
                        "multiplier": 0.3
                    }
                ]
            }
        },
        "TYPE_E": {
            "n1_strategy": {
                "name": "fact_collation",
                "operation": "Recolecta hechos para an√°lisis de consistencia l√≥gica",
                "rationale": "Gate l√≥gico necesita ver TODOS los hechos",
                "preserve": "concat es correcto aqu√≠ (como audit dossier)"
            },
            "n2_strategy": {
                "name": "logical_consistency_check",
                "operation": "Verifica consistencia l√≥gica SIN promediar",
                "differs_from_weighted_mean": "NO promedia contradicciones",
                "logic": "AND-based: todas las condiciones deben pasar",
                "formula": "consistency = min(c1, c2, ..., cn) NOT mean(c1, c2, ..., cn)",
                "output": {
                    "is_consistent": "boolean",
                    "violations": [
                        "lista de contradicciones"
                    ],
                    "severity": "max(violation_severities)"
                }
            },
            "n3_fusion": {
                "name": "contradiction_dominance",
                "operation": "UNA contradicci√≥n domina TODO",
                "principle": "L√≥gica de Popper: una falsaci√≥n invalida la teor√≠a",
                "formula": "if any_contradiction: confidence = 0.0",
                "rationale": "Contradicciones NO son aditivas ni promediables",
                "examples": {
                    "Q014": "Desproporci√≥n actividad-meta ‚Üí INV√ÅLIDO (no 'confianza media')",
                    "Q019": "Resultado no atiende problema ‚Üí INV√ÅLIDO (no 'parcialmente v√°lido')"
                }
            }
        }
    },
    "comparative_table": [
        {
            "contract": "Q001",
            "type": "TYPE_A",
            "n1_before": "concat",
            "n2_before": "dempster_shafer",
            "n1_after": "semantic_bundling",
            "n2_after": "dempster_shafer",
            "n3_after": "contradiction_veto",
            "impact": "‚úÖ Mejora trazabilidad"
        },
        {
            "contract": "Q002",
            "type": "TYPE_B",
            "n1_before": "concat",
            "n2_before": "bayesian_update",
            "n1_after": "evidence_concatenation",
            "n2_after": "bayesian_update",
            "n3_after": "statistical_gate",
            "impact": "‚úÖ Sin cambio funcional"
        },
        {
            "contract": "Q003",
            "type": "TYPE_D",
            "n1_before": "concat",
            "n2_before": "weighted_mean",
            "n1_after": "financial_aggregation",
            "n2_after": "weighted_financial_mean",
            "n3_after": "sufficiency_gate",
            "impact": "üîß A√±ade transparencia"
        },
        {
            "contract": "Q008",
            "type": "TYPE_C",
            "n1_before": "graph_construction",
            "n2_before": "topological_overlay",
            "n1_after": "graph_element_collection",
            "n2_after": "topological_overlay",
            "n3_after": "cycle_detection_veto",
            "impact": "‚úÖ Clarifica prop√≥sito"
        },
        {
            "contract": "Q010",
            "type": "TYPE_E",
            "n1_before": "concat",
            "n2_before": "weighted_mean",
            "n1_after": "fact_collation",
            "n2_after": "logical_consistency_check",
            "n3_after": "contradiction_dominance",
            "impact": "üö® CAMBIO CR√çTICO"
        },
        {
            "contract": "Q014",
            "type": "TYPE_E",
            "n1_before": "concat",
            "n2_before": "weighted_mean",
            "n1_after": "fact_collation",
            "n2_after": "logical_consistency_check",
            "n3_after": "contradiction_dominance",
            "impact": "üö® CAMBIO CR√çTICO"
        },
        {
            "contract": "Q019",
            "type": "TYPE_E",
            "n1_before": "concat",
            "n2_before": "weighted_mean",
            "n1_after": "fact_collation",
            "n2_after": "logical_consistency_check",
            "n3_after": "contradiction_dominance",
            "impact": "üö® CAMBIO CR√çTICO"
        },
        {
            "contract": "Q028",
            "type": "TYPE_E",
            "n1_before": "concat",
            "n2_before": "weighted_mean",
            "n1_after": "fact_collation",
            "n2_after": "logical_consistency_check",
            "n3_after": "contradiction_dominance",
            "impact": "üö® CAMBIO CR√çTICO"
        }
    ]
}