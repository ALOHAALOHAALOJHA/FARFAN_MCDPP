{
  "metadata": {
    "version": "1.0.0",
    "date": "2025-12-31",
    "contract_id": "D10_ATENCION_GRUPOS_Q030_CONTRACT",
    "question_id": "Q300",
    "original_question_id": "Q030",
    "policy_area_number": 10,
    "policy_area": "D10_ATENCION_GRUPOS",
    "protocol": "PROMPT_MAESTRO_V1",
    "compliance": [
      "GNEA_v2.0.0",
      "EPISTEMOLOGICAL_GUIDE_V4"
    ],
    "schema_version": "v3"
  },
  "contract": {
    "contract_id": "D10_ATENCION_GRUPOS_Q030_CONTRACT",
    "policy_area": "D10_ATENCION_GRUPOS",
    "dimension_code": "D6",
    "question_id": "Q030",
    "question_type": "TYPE_C",
    "question_text": "¿El plan considera el contexto municipal específico del sector (características territoriales, sociales, económicas, culturales, institucionales), reconoce grupos con necesidades diferenciadas, y explicita restricciones (territoriales, normativas, presupuestales, de capacidad) que condicionan las intervenciones?",
    "question_title": "Contextualización territorial y grupos diferenciados",
    "method_binding": {
      "orchestration_mode": "epistemological_pipeline",
      "contract_type": "TYPE_C",
      "method_count": 12,
      "execution_phases": {
        "phase_A_construction": {
          "methods": [
            {
              "class_name": "PDETMunicipalPlanAnalyzer",
              "method_name": "extract_tables",
              "mother_file": "src/methods_dispensary/financiero_viabilidad_tablas copy.py",
              "provides": [
                "raw_facts"
              ],
              "requires": [],
              "level": "N1-EMP",
              "description": "PDETMunicipalPlanAnalyzer.extract_tables - Match score 0.53; provides ['raw_facts']"
            },
            {
              "class_name": "PDETMunicipalPlanAnalyzer",
              "method_name": "_extract_full_text",
              "mother_file": "src/methods_dispensary/financiero_viabilidad_tablas copy.py",
              "provides": [
                "raw_facts"
              ],
              "requires": [],
              "level": "N1-EMP",
              "description": "PDETMunicipalPlanAnalyzer._extract_full_text - Match score 0.53; provides ['raw_facts']"
            },
            {
              "class_name": "MunicipalAnalyzer",
              "method_name": "_load_document",
              "mother_file": "src/methods_dispensary/analyzer_one.py",
              "provides": [
                "raw_facts"
              ],
              "requires": [],
              "level": "N1-EMP",
              "description": "MunicipalAnalyzer._load_document - Match score 0.53; provides ['raw_facts']"
            },
            {
              "class_name": "DocumentProcessor",
              "method_name": "load_pdf",
              "mother_file": "src/methods_dispensary/analyzer_one.py",
              "provides": [
                "raw_facts"
              ],
              "requires": [],
              "level": "N1-EMP",
              "description": "DocumentProcessor.load_pdf - Match score 0.53; provides ['raw_facts']"
            },
            {
              "class_name": "DocumentProcessor",
              "method_name": "load_docx",
              "mother_file": "src/methods_dispensary/analyzer_one.py",
              "provides": [
                "raw_facts"
              ],
              "requires": [],
              "level": "N1-EMP",
              "description": "DocumentProcessor.load_docx - Match score 0.53; provides ['raw_facts']"
            },
            {
              "class_name": "DocumentProcessor",
              "method_name": "load_canonical_question_contracts",
              "mother_file": "src/methods_dispensary/analyzer_one.py",
              "provides": [
                "raw_facts"
              ],
              "requires": [],
              "level": "N1-EMP",
              "description": "DocumentProcessor.load_canonical_question_contracts - Match score 0.53; provides ['raw_facts']"
            }
          ],
          "fusion_strategy": "graph_element_collection"
        },
        "phase_B_computation": {
          "methods": [
            {
              "class_name": "PolicyAnalysisEmbedder",
              "method_name": "compare_policy_interventions",
              "mother_file": "src/methods_dispensary/embedding_policy.py",
              "provides": [
                "inferences"
              ],
              "requires": [
                "raw_facts"
              ],
              "level": "N2-INF",
              "description": "PolicyAnalysisEmbedder.compare_policy_interventions - Match score 0.46; provides ['inferences']"
            },
            {
              "class_name": "EmbeddingPolicyProducer",
              "method_name": "compare_policy_interventions",
              "mother_file": "src/methods_dispensary/embedding_policy.py",
              "provides": [
                "inferences"
              ],
              "requires": [
                "raw_facts"
              ],
              "level": "N2-INF",
              "description": "EmbeddingPolicyProducer.compare_policy_interventions - Match score 0.46; provides ['inferences']"
            },
            {
              "class_name": "PDETMunicipalPlanAnalyzer",
              "method_name": "construct_causal_dag",
              "mother_file": "src/methods_dispensary/financiero_viabilidad_tablas copy.py",
              "provides": [
                "inferences"
              ],
              "requires": [
                "raw_facts"
              ],
              "level": "N2-INF",
              "description": "PDETMunicipalPlanAnalyzer.construct_causal_dag - Match score 0.46; provides ['inferences']"
            },
            {
              "class_name": "PDETMunicipalPlanAnalyzer",
              "method_name": "_identify_causal_nodes",
              "mother_file": "src/methods_dispensary/financiero_viabilidad_tablas copy.py",
              "provides": [
                "inferences"
              ],
              "requires": [
                "raw_facts"
              ],
              "level": "N2-INF",
              "description": "PDETMunicipalPlanAnalyzer._identify_causal_nodes - Match score 0.46; provides ['inferences']"
            }
          ],
          "fusion_strategy": "topological_overlay"
        },
        "phase_C_litigation": {
          "methods": [
            {
              "class_name": "PDETMunicipalPlanAnalyzer",
              "method_name": "_is_likely_header",
              "mother_file": "src/methods_dispensary/financiero_viabilidad_tablas copy.py",
              "provides": [
                "validated_constraints"
              ],
              "requires": [
                "inferences",
                "raw_facts"
              ],
              "level": "N3-AUD",
              "description": "PDETMunicipalPlanAnalyzer._is_likely_header - Match score 0.43; provides ['validated_constraints']"
            },
            {
              "class_name": "MechanismTypeConfig",
              "method_name": "check_sum_to_one",
              "mother_file": "src/methods_dispensary/derek_beach.py",
              "provides": [
                "validated_constraints"
              ],
              "requires": [
                "inferences",
                "raw_facts"
              ],
              "level": "N3-AUD",
              "description": "MechanismTypeConfig.check_sum_to_one - Match score 0.43; provides ['validated_constraints']"
            }
          ],
          "fusion_strategy": "cycle_detection_veto"
        }
      }
    },
    "evidence_assembly": {
      "engine": "EVIDENCE_NEXUS",
      "module": "farfan_pipeline.phases.Phase_two.evidence_nexus",
      "class_name": "EvidenceNexus",
      "method_name": "assemble",
      "assembly_rules": [
        {
          "rule_id": "R1_graph_collection",
          "rule_type": "structure_definition",
          "target": "graph_elements",
          "merge_strategy": "graph_element_collection",
          "output_type": "FACT"
        },
        {
          "rule_id": "R2_topology_overlay",
          "rule_type": "edge_inference",
          "target": "weighted_dag",
          "merge_strategy": "topological_overlay",
          "output_type": "PARAMETER"
        },
        {
          "rule_id": "R3_cycle_veto",
          "rule_type": "validity_check",
          "target": "validated_dag",
          "merge_strategy": "cycle_detection_veto",
          "output_type": "CONSTRAINT"
        },
        {
          "rule_id": "R4_synthesis",
          "rule_type": "synthesis",
          "target": "human_answer",
          "merge_strategy": "carver_doctoral_synthesis",
          "output_type": "NARRATIVE"
        }
      ]
    },
    "epistemological_justification": "Recolección para construcción de DAG",
    "fusion_strategies": {
      "n1": "graph_element_collection",
      "n2": "topological_overlay",
      "n3": "cycle_detection_veto"
    },
    "n1_strategy_refined": {
      "name": "graph_element_collection",
      "operation": "Recolecta nodos, aristas y contextos para construcción de DAG",
      "rationale": "DAG construction requiere elementos simultáneos",
      "structure": {
        "nodes": [
          "lista de entidades"
        ],
        "edges": [
          "lista de relaciones"
        ],
        "contexts": [
          "lista de condiciones"
        ]
      }
    },
    "n2_strategy_refined": {
      "name": "topological_overlay",
      "operation": "Fusiona grafos detectando ciclos y validando topología",
      "rationale": "Combina grafos parciales en estructura coherente",
      "validation": "Verifica acyclicity en cada fusión"
    },
    "n3_fusion_refined": {
      "name": "cycle_detection_veto",
      "operation": "Veto TOTAL si ciclo detectado en DAG",
      "formula": "if has_cycle(DAG): confidence = 0.0; status = INVALID",
      "severity": "CRITICAL"
    }
  }
}