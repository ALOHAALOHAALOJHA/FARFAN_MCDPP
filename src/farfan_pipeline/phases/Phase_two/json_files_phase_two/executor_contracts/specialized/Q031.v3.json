{
  "identity": {
    "base_slot": "D1-Q1",
    "question_id": "Q031",
    "question_global": 31,
    "dimension_id": "DIM01",
    "policy_area_id": "PA10",
    "cluster_id": "CL04",
    "contract_version": "3.0.0",
    "validated_against_schema": "executor_contract.v3.schema.json"
  },
  "executor_binding": {
    "executor_class": "D1_Q1_Executor",
    "executor_module": "farfan_core.core.orchestrator.executors"
  },
  "method_binding": {
    "orchestration_mode": "multi_method_pipeline",
    "method_count": 17,
    "methods": [
      { "class_name": "TextMiningEngine", "method_name": "diagnose_critical_links", "priority": 1, "provides": "text_mining.diagnose_critical_links", "role": "diagnose_critical_links_diagnosis" },
      { "class_name": "TextMiningEngine", "method_name": "_analyze_link_text", "priority": 2, "provides": "text_mining.analyze_link_text", "role": "_analyze_link_text_analysis" },
      { "class_name": "IndustrialPolicyProcessor", "method_name": "process", "priority": 3, "provides": "industrial_policy.process", "role": "process_processing" },
      { "class_name": "IndustrialPolicyProcessor", "method_name": "_match_patterns_in_sentences", "priority": 4, "provides": "industrial_policy.match_patterns_in_sentences", "role": "_match_patterns_in_sentences_matching" },
      { "class_name": "IndustrialPolicyProcessor", "method_name": "_extract_point_evidence", "priority": 5, "provides": "industrial_policy.extract_point_evidence", "role": "_extract_point_evidence_extraction" },
      { "class_name": "CausalExtractor", "method_name": "_extract_goals", "priority": 6, "provides": "causal_extraction.extract_goals", "role": "_extract_goals_extraction" },
      { "class_name": "CausalExtractor", "method_name": "_parse_goal_context", "priority": 7, "provides": "causal_extraction.parse_goal_context", "role": "_parse_goal_context_parsing" },
      { "class_name": "FinancialAuditor", "method_name": "_parse_amount", "priority": 8, "provides": "financial_audit.parse_amount", "role": "_parse_amount_parsing" },
      { "class_name": "PDETMunicipalPlanAnalyzer", "method_name": "_extract_financial_amounts", "priority": 9, "provides": "pdet_analysis.extract_financial_amounts", "role": "_extract_financial_amounts_extraction" },
      { "class_name": "PDETMunicipalPlanAnalyzer", "method_name": "_extract_from_budget_table", "priority": 10, "provides": "pdet_analysis.extract_from_budget_table", "role": "_extract_from_budget_table_extraction" },
      { "class_name": "PolicyContradictionDetector", "method_name": "_extract_quantitative_claims", "priority": 11, "provides": "contradiction_detection.extract_quantitative_claims", "role": "_extract_quantitative_claims_extraction" },
      { "class_name": "PolicyContradictionDetector", "method_name": "_parse_number", "priority": 12, "provides": "contradiction_detection.parse_number", "role": "_parse_number_parsing" },
      { "class_name": "PolicyContradictionDetector", "method_name": "_statistical_significance_test", "priority": 13, "provides": "contradiction_detection.statistical_significance_test", "role": "_statistical_significance_test_execution" },
      { "class_name": "BayesianNumericalAnalyzer", "method_name": "evaluate_policy_metric", "priority": 14, "provides": "bayesian_analysis.evaluate_policy_metric", "role": "evaluate_policy_metric_evaluation" },
      { "class_name": "BayesianNumericalAnalyzer", "method_name": "compare_policies", "priority": 15, "provides": "bayesian_analysis.compare_policies", "role": "compare_policies_comparison" },
      { "class_name": "SemanticProcessor", "method_name": "chunk_text", "priority": 16, "provides": "semantic_processing.chunk_text", "role": "chunk_text_chunking" },
      { "class_name": "SemanticProcessor", "method_name": "embed_single", "priority": 17, "provides": "semantic_processing.embed_single", "role": "embed_single_embedding" }
    ]
  },
  "compatibility": {
    "questionnaire_monolith_version": "3.0.0",
    "method_executor_min_version": "1.0.0",
    "orchestrator_min_version": "1.0.0",
    "phase2_types_version": "1.0.0",
    "signal_registry_min_version": "1.0.0"
  },
  "error_handling": {
    "failure_contract": { "abort_if": ["missing_required_element", "incomplete_text"], "emit_code": "ABORT-Q031-REQ" },
    "on_assembly_failure": "propagate_with_trace",
    "on_method_failure": "propagate_with_trace",
    "on_method_not_found": "raise"
  },
  "evidence_assembly": {
    "class_name": "EvidenceNexus",
    "engine": "EVIDENCE_NEXUS",
    "method_name": "assemble",
    "module": "canonic_phases.Phase_two.evidence_nexus",
    "assembly_rules": [
      { "merge_strategy": "concat", "sources": [], "target": "elements_found" },
      { "merge_strategy": "weighted_mean", "sources": [], "target": "confidence_scores" },
      { "merge_strategy": "concat", "sources": [], "target": "pattern_matches" },
      { "merge_strategy": "concat", "sources": [], "target": "metadata" }
    ],
    "output_schema": {
      "type": "object",
      "required": ["elements_found", "raw_results"],
      "properties": {
        "elements_found": { "type": "array" },
        "raw_results": { "type": "object", "additionalProperties": true }
      },
      "additionalProperties": true
    }
  },
  "output_contract": {
    "result_type": "Phase2QuestionResult",
    "schema": { "type": "object", "required": ["base_slot", "question_id", "question_global", "evidence", "validation"] }
  },
  "question_context": {
    "dimension_label": "INSUMOS",
    "policy_area_label": "Migración transfronteriza",
    "question_type": "micro",
    "question_text": "¿El diagnóstico presenta datos numéricos (flujo de migrantes, número de PPT expedidos, NNA migrantes en el sistema escolar) sobre el área de Migración transfronteriza que sirvan como línea base? Se debe verificar el año y fuentes (ej. Migración Colombia, DANE, Personería).",
    "scoring_modality": "TYPE_A",
    "scoring_definition_ref": "scoring_modalities.TYPE_A",
    "expected_output_type": "score",
    "expected_elements": [
      { "type": "cobertura_territorial_especificada", "required": true, "minimum": 1 },
      { "type": "fuentes_oficiales", "minimum": 2 },
      { "type": "indicadores_cuantitativos", "minimum": 3 },
      { "type": "series_temporales_años", "minimum": 2 }
    ],
    "patterns": [
      { "id": "PAT-Q031-000", "match_type": "REGEX", "pattern": "Migración Colombia|R4V|GIFMM", "policy_area": "PA10" },
      { "id": "PAT-Q031-001", "match_type": "REGEX", "pattern": "PPT|Estatuto Temporal|ETPV", "policy_area": "PA10" }
    ]
  },
  "signal_requirements": {
    "mandatory_signals": ["baseline_completeness", "data_sources", "migration_indicators"],
    "optional_signals": ["geographic_scope", "temporal_coverage"],
    "minimum_signal_threshold": 0.5,
    "signal_aggregation": "weighted_mean",
    "note": "Signals aligned with PA10 (Migración transfronteriza) and DIM01 (INSUMOS)."
  },
  "traceability": {
    "source_question_id": "Q031",
    "specialized_from_base_slot": "D1-Q1",
    "source_file": "data/questionnaire_monolith.json",
    "json_path": "blocks.micro_questions[30]",
    "method_source": "src/farfan_core/core/orchestrator/executors.py:D1_Q1_Executor"
  },
  "validation_rules": {
    "class_name": "ValidationEngine",
    "engine": "VALIDATION_ENGINE",
    "method_name": "validate",
    "module": "canonic_phases.Phase_two.evidence_nexus",
    "na_policy": "abort_on_critical",
    "rules": []
  },
  "test_configuration": {
    "expected_test_coverage": ">=90%",
    "integration_test_required": true,
    "test_document_fixtures": ["tests/fixtures/preprocessed_documents/sample_pdet_plan.json"],
    "test_files": []
  }
}
