{
  "phase_id": "8",
  "phase_name": "Recommendation Engine",
  "phase_dir": "src/farfan_pipeline/phases/Phase_8",
  "phase_prefix": "phase8",
  "timestamp": "2026-01-13T22:52:04.191071+00:00",
  "audit_version": "2.0.0",
  "summary": {
    "total_files": 27,
    "files_in_chain": 27,
    "orphan_files": 4,
    "circular_dependencies": 0,
    "label_position_mismatches": 18,
    "validation_status": "FAIL"
  },
  "dependency_graph": {
    "description": "Directed acyclic graph of internal module imports",
    "nodes": [
      "phase8_10_00_schema_validation",
      "phase8_20_00_recommendation_engine",
      "phase8_20_03_template_compiler",
      "phase8_20_01_recommendation_engine_adapter",
      "phase8_30_00_signal_enriched_recommendations",
      "phase8_20_02_generic_rule_engine",
      "phase8_20_04_recommendation_engine_orchestrator",
      "phase8_00_00_data_models",
      "phase8_35_00_entity_targeted_recommendations",
      "__init__",
      "interfaces.phase8_10_00_interface_validator",
      "interfaces.__init__",
      "primitives.PHASE_8_ENUMS",
      "primitives.phase8_00_00_phase_8_enums",
      "primitives.phase8_00_00_phase_8_types",
      "primitives.phase8_10_00_phase_8_types",
      "primitives.phase8_10_00_phase_8_constants",
      "primitives.phase8_10_00_phase_8_enums",
      "primitives.phase8_00_00_phase_8_constants",
      "primitives.PHASE_8_CONSTANTS",
      "primitives.__init__",
      "primitives.PHASE_8_TYPES",
      "interphase.interface_validator",
      "interphase.phase8_10_00_interface_validator",
      "interphase.__init__",
      "tests.__init__"
    ],
    "edges": [
      {
        "from": "phase8_10_00_schema_validation",
        "to": "phase8_00_00_data_models"
      },
      {
        "from": "phase8_20_02_generic_rule_engine",
        "to": "phase8_00_00_data_models"
      },
      {
        "from": "phase8_20_04_recommendation_engine_orchestrator",
        "to": "phase8_00_00_data_models"
      },
      {
        "from": "phase8_20_04_recommendation_engine_orchestrator",
        "to": "phase8_20_02_generic_rule_engine"
      },
      {
        "from": "phase8_20_04_recommendation_engine_orchestrator",
        "to": "phase8_10_00_schema_validation"
      },
      {
        "from": "phase8_20_04_recommendation_engine_orchestrator",
        "to": "phase8_20_03_template_compiler"
      },
      {
        "from": "__init__",
        "to": "interfaces.phase8_10_00_interface_validator"
      },
      {
        "from": "__init__",
        "to": "interfaces.__init__"
      },
      {
        "from": "__init__",
        "to": "primitives.phase8_10_00_phase_8_constants"
      },
      {
        "from": "__init__",
        "to": "primitives.phase8_00_00_phase_8_constants"
      },
      {
        "from": "__init__",
        "to": "primitives.phase8_10_00_phase_8_types"
      },
      {
        "from": "__init__",
        "to": "phase8_20_00_recommendation_engine"
      },
      {
        "from": "__init__",
        "to": "phase8_30_00_signal_enriched_recommendations"
      },
      {
        "from": "__init__",
        "to": "primitives.phase8_00_00_phase_8_types"
      },
      {
        "from": "__init__",
        "to": "primitives.PHASE_8_TYPES"
      },
      {
        "from": "__init__",
        "to": "primitives.__init__"
      },
      {
        "from": "__init__",
        "to": "primitives.PHASE_8_ENUMS"
      },
      {
        "from": "__init__",
        "to": "primitives.phase8_00_00_phase_8_enums"
      },
      {
        "from": "__init__",
        "to": "primitives.PHASE_8_CONSTANTS"
      },
      {
        "from": "__init__",
        "to": "primitives.phase8_10_00_phase_8_enums"
      },
      {
        "from": "__init__",
        "to": "phase8_20_01_recommendation_engine_adapter"
      },
      {
        "from": "interphase.interface_validator",
        "to": "phase8_20_00_recommendation_engine"
      }
    ]
  },
  "topological_analysis": {
    "description": "Topological ordering based on actual import dependencies",
    "note": "Files with no internal dependencies are listed alphabetically at their level",
    "layers": [
      {
        "layer": 0,
        "description": "Layer 0",
        "modules": [
          "__init__",
          "interphase.__init__",
          "interphase.interface_validator",
          "interphase.phase8_10_00_interface_validator",
          "phase8_20_04_recommendation_engine_orchestrator",
          "phase8_35_00_entity_targeted_recommendations",
          "tests.__init__",
          "tests.phase8_10_00_generative_testing"
        ]
      },
      {
        "layer": 1,
        "description": "Layer 1 - depends on layer(s) 0-0",
        "modules": [
          "interfaces.__init__",
          "interfaces.phase8_10_00_interface_validator",
          "phase8_10_00_schema_validation",
          "phase8_20_00_recommendation_engine",
          "phase8_20_01_recommendation_engine_adapter",
          "phase8_20_02_generic_rule_engine",
          "phase8_20_03_template_compiler",
          "phase8_30_00_signal_enriched_recommendations",
          "primitives.PHASE_8_CONSTANTS",
          "primitives.PHASE_8_ENUMS",
          "primitives.PHASE_8_TYPES",
          "primitives.__init__",
          "primitives.phase8_00_00_phase_8_constants",
          "primitives.phase8_00_00_phase_8_enums",
          "primitives.phase8_00_00_phase_8_types",
          "primitives.phase8_10_00_phase_8_constants",
          "primitives.phase8_10_00_phase_8_enums",
          "primitives.phase8_10_00_phase_8_types"
        ]
      },
      {
        "layer": 2,
        "description": "Layer 2 - depends on layer(s) 0-1",
        "modules": [
          "phase8_00_00_data_models"
        ]
      }
    ]
  },
  "orphan_files": {
    "description": "Files not imported by any other module within Phase 8",
    "count": 4,
    "orphans": [
      {
        "module": "phase8_20_04_recommendation_engine_orchestrator",
        "path": "phase8_20_04_recommendation_engine_orchestrator.py",
        "label": "20_04",
        "has_outgoing": true,
        "has_incoming": false
      },
      {
        "module": "phase8_35_00_entity_targeted_recommendations",
        "path": "phase8_35_00_entity_targeted_recommendations.py",
        "label": "35_00",
        "has_outgoing": false,
        "has_incoming": false
      },
      {
        "module": "interphase.interface_validator",
        "path": "interphase/interface_validator.py",
        "label": null,
        "has_outgoing": true,
        "has_incoming": false
      },
      {
        "module": "interphase.phase8_10_00_interface_validator",
        "path": "interphase/phase8_10_00_interface_validator.py",
        "label": "10_00",
        "has_outgoing": false,
        "has_incoming": false
      }
    ]
  },
  "circular_dependencies": {
    "description": "Detected circular import chains",
    "cycles": [],
    "analysis": "No circular dependencies detected. The dependency graph is a valid DAG."
  },
  "label_position_analysis": {
    "description": "Analysis of file naming labels vs actual topological position",
    "note": "Phase 8 uses stage-based labeling (00, 10, 20, 30, 35) not topological position",
    "labels_found": [
      {
        "module": "interphase.phase8_10_00_interface_validator",
        "label": "10_00",
        "stage": 10,
        "position": 3
      },
      {
        "module": "phase8_20_04_recommendation_engine_orchestrator",
        "label": "20_04",
        "stage": 20,
        "position": 4
      },
      {
        "module": "phase8_35_00_entity_targeted_recommendations",
        "label": "35_00",
        "stage": 35,
        "position": 5
      },
      {
        "module": "tests.phase8_10_00_generative_testing",
        "label": "10_00",
        "stage": 10,
        "position": 7
      },
      {
        "module": "interfaces.phase8_10_00_interface_validator",
        "label": "10_00",
        "stage": 10,
        "position": 9
      },
      {
        "module": "phase8_10_00_schema_validation",
        "label": "10_00",
        "stage": 10,
        "position": 10
      },
      {
        "module": "phase8_20_00_recommendation_engine",
        "label": "20_00",
        "stage": 20,
        "position": 11
      },
      {
        "module": "phase8_20_01_recommendation_engine_adapter",
        "label": "20_01",
        "stage": 20,
        "position": 12
      },
      {
        "module": "phase8_20_02_generic_rule_engine",
        "label": "20_02",
        "stage": 20,
        "position": 13
      },
      {
        "module": "phase8_20_03_template_compiler",
        "label": "20_03",
        "stage": 20,
        "position": 14
      },
      {
        "module": "phase8_30_00_signal_enriched_recommendations",
        "label": "30_00",
        "stage": 30,
        "position": 15
      },
      {
        "module": "primitives.phase8_00_00_phase_8_constants",
        "label": "00_00",
        "stage": 0,
        "position": 20
      },
      {
        "module": "primitives.phase8_00_00_phase_8_enums",
        "label": "00_00",
        "stage": 0,
        "position": 21
      },
      {
        "module": "primitives.phase8_00_00_phase_8_types",
        "label": "00_00",
        "stage": 0,
        "position": 22
      },
      {
        "module": "primitives.phase8_10_00_phase_8_constants",
        "label": "10_00",
        "stage": 10,
        "position": 23
      },
      {
        "module": "primitives.phase8_10_00_phase_8_enums",
        "label": "10_00",
        "stage": 10,
        "position": 24
      },
      {
        "module": "primitives.phase8_10_00_phase_8_types",
        "label": "10_00",
        "stage": 10,
        "position": 25
      },
      {
        "module": "phase8_00_00_data_models",
        "label": "00_00",
        "stage": 0,
        "position": 26
      }
    ]
  },
  "foldering_compliance": {
    "description": "Verification of standard folder structure",
    "required_folders": [
      "contracts",
      "docs",
      "tests",
      "primitives",
      "interphase",
      "interfaces"
    ],
    "status": "PARTIAL",
    "folders_found": {
      "contracts": {
        "exists": true,
        "path": "src/farfan_pipeline/phases/Phase_8/contracts",
        "file_count": 1,
        "files": [
          "phase8_chain_report.json"
        ]
      },
      "docs": {
        "exists": false,
        "path": "src/farfan_pipeline/phases/Phase_8/docs",
        "file_count": 0,
        "files": []
      },
      "tests": {
        "exists": true,
        "path": "src/farfan_pipeline/phases/Phase_8/tests",
        "file_count": 2,
        "files": [
          "phase8_10_00_generative_testing.py",
          "__init__.py"
        ]
      },
      "primitives": {
        "exists": true,
        "path": "src/farfan_pipeline/phases/Phase_8/primitives",
        "file_count": 11,
        "files": [
          "PHASE_8_ENUMS.py",
          "phase8_00_00_phase_8_enums.py",
          "phase8_00_00_phase_8_types.py",
          "phase8_10_00_phase_8_types.py",
          "phase8_10_00_phase_8_constants.py",
          "phase8_10_00_phase_8_enums.py",
          "README.md",
          "phase8_00_00_phase_8_constants.py",
          "PHASE_8_CONSTANTS.py",
          "__init__.py",
          "PHASE_8_TYPES.py"
        ]
      },
      "interphase": {
        "exists": true,
        "path": "src/farfan_pipeline/phases/Phase_8/interphase",
        "file_count": 5,
        "files": [
          "INTERFACE_MANIFEST.json",
          "README.md",
          "interface_validator.py",
          "phase8_10_00_interface_validator.py",
          "__init__.py"
        ]
      },
      "interfaces": {
        "exists": true,
        "path": "src/farfan_pipeline/phases/Phase_8/interfaces",
        "file_count": 4,
        "files": [
          "INTERFACE_MANIFEST.json",
          "README.md",
          "phase8_10_00_interface_validator.py",
          "__init__.py"
        ]
      }
    }
  }
}