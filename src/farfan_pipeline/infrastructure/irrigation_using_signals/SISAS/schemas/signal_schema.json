{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "SISAS Signal Schema",
  "type": "object",
  "required": [
    "signal_id",
    "signal_type",
    "category",
    "version",
    "context",
    "source",
    "created_at"
  ],
  "properties": {
    "signal_id": {
      "type": "string",
      "format": "uuid"
    },
    "signal_type": {
      "type": "string"
    },
    "category": {
      "type": "string",
      "enum": [
        "structural",
        "integrity",
        "epistemic",
        "contrast",
        "operational",
        "consumption"
      ]
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "context": {
      "type": "object",
      "required": ["node_type", "node_id", "phase", "consumer_scope"],
      "properties": {
        "node_type": { "type": "string" },
        "node_id": { "type": "string" },
        "phase": { "type": "string" },
        "consumer_scope": { "type": "string" }
      }
    },
    "source": {
      "type": "object",
      "required": ["event_id", "source_file", "generation_timestamp", "generator_vehicle"],
      "properties": {
        "event_id": { "type": "string" },
        "source_file": { "type": "string" },
        "source_path": { "type": "string" },
        "generation_timestamp": { "type": "string", "format": "date-time" },
        "generator_vehicle": { "type": "string" }
      }
    },
    "value": {},
    "confidence": {
      "type": "string",
      "enum": ["HIGH", "MEDIUM", "LOW", "INDETERMINATE"]
    },
    "rationale": { "type": "string" },
    "created_at": { "type": "string", "format": "date-time" },
    "tags": {
      "type": "array",
      "items": { "type": "string" }
    },
    "hash": { "type": "string" }
  }
}