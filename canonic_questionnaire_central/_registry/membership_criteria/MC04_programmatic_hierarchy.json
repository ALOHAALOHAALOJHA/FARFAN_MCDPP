{
  "$schema": "../schema.json",
  "_schema_version": "2.0.0",
  
  "criterion_id": "MC04",
  "name": "Programmatic Hierarchy",
  "description_es": "Detecta jerarquía programática: Eje → Programa → Subprograma → Meta",
  "description_en": "Detects programmatic hierarchy: Axis → Program → Subprogram → Goal",
  
  "signal_type": "PROGRAMMATIC_HIERARCHY",
  "implementation_status": "PARTIAL",
  "extractor_class": "HierarchyExtractor",
  
  "detection": {
    "primary_method": "COMPOUND_PATTERN",
    "_source": "corpus_empirico_calibracion_extractores.json",
    
    "components": [
      {
        "component_id": "PH-EJE",
        "name": "eje_pattern",
        "detection": {
          "type": "REGEX",
          "pattern": "Eje\\s+(?:Estratégico\\s+)?(\\d+|[IVX]+)[:\\s.-]+(.*?)(?=\\n|Eje|Programa|$)",
          "examples": [
            "Eje 1: Desarrollo Social",
            "Eje Estratégico II: Infraestructura"
          ]
        },
        "confidence_base": 0.91,
        "level": 1
      },
      {
        "component_id": "PH-PROGRAMA",
        "name": "programa_pattern",
        "detection": {
          "type": "REGEX",
          "pattern": "Programa\\s+(\\d+)[:\\s.-]+(.*?)(?=\\n|Programa|Subprograma|$)",
          "examples": ["Programa 1: Educación de Calidad"]
        },
        "confidence_base": 0.89,
        "level": 2
      },
      {
        "component_id": "PH-SUBPROGRAMA",
        "name": "subprograma_pattern",
        "detection": {
          "type": "REGEX",
          "pattern": "Subprograma\\s+(\\d+(?:\\.\\d+)?)[:\\s.-]+(.*?)(?=\\n|$)",
          "examples": ["Subprograma 1.1: Primera Infancia"]
        },
        "confidence_base": 0.85,
        "level": 3
      },
      {
        "component_id": "PH-META",
        "name": "meta_pattern",
        "detection": {
          "type": "REGEX",
          "pattern": "Meta\\s+(\\d+(?:\\.\\d+)?)[:\\s.-]+(.*?)(?=\\n|$)",
          "examples": ["Meta 1.1.1: Aumentar cobertura a 85%"]
        },
        "confidence_base": 0.87,
        "level": 4
      }
    ],
    
    "hierarchy_templates": [
      {
        "plan": "Bosconia",
        "structure": "7 Ejes → 57 Programas → 352 Metas",
        "coding": "Numeric (1, 2, 3...)"
      },
      {
        "plan": "Corinto",
        "structure": "4 Títulos → 37 Programas → 184 Metas",
        "coding": "Mixed (T1, P1, M1.1)"
      }
    ],
    
    "consistency_rules": {
      "parent_child": "Every PROGRAMA must have parent EJE",
      "naming": "No duplicate names at same level",
      "depth": "Max depth = 5 levels",
      "orphans": "Zero orphan nodes allowed"
    }
  },
  
  "dimension_mapping": {
    "DIM02_ACTIVIDADES": "PROGRAMA",
    "DIM03_PRODUCTOS": "SUBPROGRAMA",
    "DIM04_RESULTADOS": "META"
  },
  
  "scoring_impact": {
    "dimension_boost": {
      "DIM02": 0.15,
      "DIM03": 0.10,
      "DIM06": 0.15
    }
  },
  
  "required_capabilities": [],
  "optional_capabilities": ["GRAPH_CONSTRUCTION"],
  
  "testing": {
    "test_file": "tests/membership_criteria/test_mc04_hierarchy.py",
    "expected_precision": 0.89,
    "expected_recall": 0.87,
    "source": "corpus_thresholds_weights.json"
  },
  
  "empirical_data": {
    "source": "corpus_empirico_calibracion_extractores.json",
    "ejes_per_plan": {"mean": 5, "min": 3, "max": 7},
    "programas_per_plan": {"mean": 28, "min": 14, "max": 57},
    "metas_per_plan": {"mean": 145, "min": 100, "max": 352}
  }
}
