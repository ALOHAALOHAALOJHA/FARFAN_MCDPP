{
  "contexto": {
    "pregunta_id": "Q001",
    "base_slot": "D1-Q1",
    "dimension_id": "DIM01",
    "dimension_name": "INSUMOS",
    "texto_pregunta": "¿El diagnóstico presenta datos numéricos (tasas de VBG, porcentajes de participación, cifras de brechas salariales) para el área de Derechos de las mujeres e igualdad de género que sirvan como línea base? Se debe verificar la presencia de un año de referencia y la mención de fuentes (ej. DANE, Medicina Legal, Observatorio de Género).",
    "naturaleza_epistemologica": {
      "contract_type": "TYPE_A",
      "contract_type_name": "Semántico",
      "epistemologia_principal": "Empirismo semántico",
      "nivel_analisis": ["N1-EMP", "N2-INF", "N3-AUD"]
    },
    "requisitos": {
      "datos_numericos": {
        "descripcion": "Tasas de VBG, porcentajes de participación, cifras de brechas salariales",
        "patrones": [
          "\\d{1,3}(\\.\\d{3})*(,\\d{1,2})?\\s*%",
          "\\d+\\s*(por|cada)\\s*(100|mil|100\\.000)",
          "tasa\\s+de\\s+\\w+",
          "índice\\s+de\\s+\\w+"
        ]
      },
      "linea_base": {
        "descripcion": "Verificar que los datos sirvan como línea base",
        "patrones": [
          "línea\\s+base",
          "año\\s+base",
          "situación\\s+inicial",
          "diagnóstico"
        ]
      },
      "año_referencia": {
        "descripcion": "Presencia explícita de año de referencia",
        "patrones": [
          "20\\d{2}",
          "año",
          "periodo",
          "vigencia"
        ]
      },
      "fuentes": {
        "descripcion": "Mención de fuentes oficiales",
        "ejemplos": ["DANE", "Medicina Legal", "Observatorio de Género", "DNP", "SISPRO", "SIVIGILA"],
        "patrones": [
          "fuente:",
          "según",
          "datos de"
        ]
      }
    }
  },
  "propuestas": {
    "propuesta_1_semantico_extractivo": {
      "nombre": "Juego Semántico-Extractivo Puro",
      "filosofia": "Enfoque minimalista y directo: extracción empírica pura sin procesamiento inferencial complejo. Maximiza la trazabilidad y minimiza la interpretación.",
      "complejidad": "Baja",
      "trazabilidad": "Máxima",
      "robustez_incertidumbre": "Baja",
      "dependencia_estructura": "Baja",
      "velocidad": "Alta",
      "cobertura_requisitos": "Alta",
      "defendibilidad": "Muy Alta",
      "metodos": {
        "phase_A_N1": [
          {
            "class_name": "PolicyContradictionDetector",
            "method_name": "_extract_quantitative_claims",
            "mother_file": "contradiction_deteccion.py",
            "level": "N1-EMP",
            "output_type": "FACT",
            "description": "Extrae afirmaciones cuantitativas estructuradas (porcentajes, tasas, cifras) con contexto",
            "cobertura": ["datos_numericos"],
            "rationale": "Método especializado en extracción de datos cuantitativos con contexto, ideal para identificar tasas de VBG y porcentajes"
          },
          {
            "class_name": "PolicyContradictionDetector",
            "method_name": "_extract_temporal_markers",
            "mother_file": "contradiction_deteccion.py",
            "level": "N1-EMP",
            "output_type": "FACT",
            "description": "Extrae marcadores temporales (años, períodos, fechas) del texto",
            "cobertura": ["año_referencia"],
            "rationale": "Identifica años explícitos en el texto, necesario para verificar año de referencia"
          },
          {
            "class_name": "IndustrialPolicyProcessor",
            "method_name": "_extract_point_evidence",
            "mother_file": "policy_processor.py",
            "level": "N1-EMP",
            "output_type": "FACT",
            "description": "Extrae evidencia puntual por área de política usando patrones canónicos",
            "cobertura": ["fuentes", "contexto_area_politica"],
            "rationale": "Permite identificar menciones de fuentes oficiales y contexto específico del área de política"
          }
        ],
        "phase_B_N2": [
          {
            "class_name": "PolicyContradictionDetector",
            "method_name": "_parse_number",
            "mother_file": "contradiction_deteccion.py",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "requires": ["raw_facts"],
            "description": "Parsea números desde texto y valida formato numérico",
            "cobertura": ["validacion_formato_numerico"],
            "rationale": "Valida que los datos numéricos extraídos sean parseables y coherentes"
          },
          {
            "class_name": "IndustrialPolicyProcessor",
            "method_name": "_match_patterns_in_sentences",
            "mother_file": "policy_processor.py",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "requires": ["raw_facts"],
            "description": "Ejecuta matching de patrones de validación (fuentes, años, unidades de medición)",
            "cobertura": ["validacion_fuentes", "validacion_años"],
            "rationale": "Valida presencia de fuentes oficiales y años de referencia usando patrones canónicos"
          }
        ],
        "phase_C_N3": [
          {
            "class_name": "OperationalizationAuditor",
            "method_name": "_audit_direct_evidence",
            "mother_file": "derek_beach.py",
            "level": "N3-AUD",
            "output_type": "AUDIT",
            "requires": ["raw_facts", "inferred_parameters"],
            "description": "Audita trazabilidad de evidencia directa (verifica línea base, fuentes, años)",
            "cobertura": ["auditoria_completa"],
            "rationale": "Método especializado en auditoría de evidencia, verifica cumplimiento de todos los requisitos"
          }
        ]
      },
      "ventajas": [
        "Máxima trazabilidad: cada dato tiene origen claro",
        "Sin sesgo inferencial: no introduce interpretaciones",
        "Rápido y eficiente: procesamiento directo",
        "Defendible epistemológicamente: empirismo puro"
      ],
      "desventajas": [
        "Limitado a datos explícitos: no infiere datos implícitos",
        "Dependiente de calidad del texto: requiere texto bien estructurado"
      ]
    },
    "propuesta_2_hibrido_bayesiano": {
      "nombre": "Juego Híbrido Semántico-Bayesiano",
      "filosofia": "Enfoque robusto con validación probabilística: combina extracción semántica con validación bayesiana para manejar incertidumbre y datos incompletos.",
      "complejidad": "Alta",
      "trazabilidad": "Media",
      "robustez_incertidumbre": "Alta",
      "dependencia_estructura": "Baja",
      "velocidad": "Baja",
      "cobertura_requisitos": "Alta",
      "defendibilidad": "Alta",
      "metodos": {
        "phase_A_N1": [
          {
            "class_name": "PolicyContradictionDetector",
            "method_name": "_extract_quantitative_claims",
            "mother_file": "contradiction_deteccion.py",
            "level": "N1-EMP",
            "output_type": "FACT",
            "description": "Extrae afirmaciones cuantitativas estructuradas",
            "cobertura": ["datos_numericos"]
          },
          {
            "class_name": "PolicyAnalysisEmbedder",
            "method_name": "_extract_numerical_values",
            "mother_file": "embedding_policy.py",
            "level": "N1-EMP",
            "output_type": "FACT",
            "description": "Extrae valores numéricos usando patrones JSON y embeddings semánticos",
            "cobertura": ["datos_numericos", "contexto_semantico"],
            "rationale": "Usa embeddings para identificar valores numéricos en contexto semántico rico"
          },
          {
            "class_name": "SemanticProcessor",
            "method_name": "chunk_text",
            "mother_file": "semantic_chunking_policy.py",
            "level": "N1-EMP",
            "output_type": "FACT",
            "description": "Chunking semántico que preserva estructura del documento",
            "cobertura": ["estructura_documento"],
            "rationale": "Identifica secciones relevantes donde buscar datos de línea base"
          }
        ],
        "phase_B_N2": [
          {
            "class_name": "BayesianConfidenceCalculator",
            "method_name": "calculate_posterior",
            "mother_file": "contradiction_deteccion.py",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "requires": ["raw_facts"],
            "description": "Calcula probabilidad posterior de completitud de datos",
            "cobertura": ["probabilidad_completitud"],
            "rationale": "Calcula confianza probabilística de que se cumplan todos los requisitos"
          },
          {
            "class_name": "BayesianNumericalAnalyzer",
            "method_name": "evaluate_policy_metric",
            "mother_file": "policy_processor.py",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "requires": ["raw_facts"],
            "description": "Evalúa métricas de política con incertidumbre bayesiana",
            "cobertura": ["validacion_probabilistica"],
            "rationale": "Valida calidad y coherencia de datos numéricos con incertidumbre"
          },
          {
            "class_name": "PolicyContradictionDetector",
            "method_name": "_statistical_significance_test",
            "mother_file": "contradiction_deteccion.py",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "requires": ["raw_facts"],
            "description": "Prueba significancia estadística de datos extraídos",
            "cobertura": ["validacion_estadistica"],
            "rationale": "Verifica que haya suficientes datos para constituir línea base válida"
          }
        ],
        "phase_C_N3": [
          {
            "class_name": "OperationalizationAuditor",
            "method_name": "_audit_direct_evidence",
            "mother_file": "derek_beach.py",
            "level": "N3-AUD",
            "output_type": "AUDIT",
            "requires": ["raw_facts", "inferred_parameters"],
            "description": "Audita evidencia directa con evaluación bayesiana de confianza",
            "cobertura": ["auditoria_bayesiana"]
          }
        ]
      },
      "ventajas": [
        "Maneja incertidumbre: proporciona intervalos de confianza",
        "Robusto ante datos incompletos: inferencia probabilística",
        "Validación estadística: prueba significancia de datos",
        "Riqueza semántica: embeddings capturan contexto"
      ],
      "desventajas": [
        "Mayor complejidad: requiere procesamiento bayesiano",
        "Menos trazable: inferencia introduce interpretación",
        "Más lento: procesamiento de embeddings y bayesiano"
      ]
    },
    "propuesta_3_estructural": {
      "nombre": "Juego Semántico-Estructural con Tablas",
      "filosofia": "Enfoque orientado a estructura documental: aprovecha la estructura de documentos de política (tablas, secciones) para extracción precisa de datos de línea base.",
      "complejidad": "Media",
      "trazabilidad": "Alta",
      "robustez_incertidumbre": "Media",
      "dependencia_estructura": "Alta",
      "velocidad": "Media",
      "cobertura_requisitos": "Muy Alta",
      "defendibilidad": "Alta",
      "metodos": {
        "phase_A_N1": [
          {
            "class_name": "PDETMunicipalPlanAnalyzer",
            "method_name": "_extract_financial_amounts",
            "mother_file": "financiero_viabilidad_tablas.py",
            "level": "N1-EMP",
            "output_type": "FACT",
            "description": "Extrae montos financieros y datos numéricos de tablas y texto",
            "cobertura": ["datos_numericos_tablas"],
            "rationale": "Especializado en extracción de datos numéricos de tablas estructuradas"
          },
          {
            "class_name": "PDETMunicipalPlanAnalyzer",
            "method_name": "_extract_from_budget_table",
            "mother_file": "financiero_viabilidad_tablas.py",
            "level": "N1-EMP",
            "output_type": "FACT",
            "description": "Extrae datos de tablas de presupuesto e indicadores (incluye línea base, fuentes, años)",
            "cobertura": ["datos_estructurados_tablas"],
            "rationale": "Extrae datos completos de tablas de indicadores que típicamente incluyen línea base, año y fuentes"
          },
          {
            "class_name": "PolicyContradictionDetector",
            "method_name": "_extract_temporal_markers",
            "mother_file": "contradiction_deteccion.py",
            "level": "N1-EMP",
            "output_type": "FACT",
            "description": "Extrae marcadores temporales del texto",
            "cobertura": ["año_referencia"]
          },
          {
            "class_name": "IndustrialPolicyProcessor",
            "method_name": "_extract_metadata",
            "mother_file": "policy_processor.py",
            "level": "N1-EMP",
            "output_type": "FACT",
            "description": "Extrae metadatos del documento (período, entidad, título)",
            "cobertura": ["contexto_temporal"],
            "rationale": "Identifica período del plan que puede servir como año de referencia implícito"
          }
        ],
        "phase_B_N2": [
          {
            "class_name": "PDETMunicipalPlanAnalyzer",
            "method_name": "_score_indicators",
            "mother_file": "financiero_viabilidad_tablas.py",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "requires": ["raw_facts"],
            "description": "Evalúa calidad de indicadores (completitud de columnas: indicador, línea base, meta, fuente)",
            "cobertura": ["validacion_estructura_tablas"],
            "rationale": "Valida que las tablas de indicadores tengan estructura completa (línea base, fuente, año)"
          },
          {
            "class_name": "IndustrialPolicyProcessor",
            "method_name": "_apply_validation_rules",
            "mother_file": "policy_processor.py",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "requires": ["raw_facts"],
            "description": "Aplica reglas de validación canónicas",
            "cobertura": ["validacion_reglas_canonicas"],
            "rationale": "Valida cumplimiento de requisitos usando reglas específicas del cuestionario"
          }
        ],
        "phase_C_N3": [
          {
            "class_name": "OperationalizationAuditor",
            "method_name": "_audit_direct_evidence",
            "mother_file": "derek_beach.py",
            "level": "N3-AUD",
            "output_type": "AUDIT",
            "requires": ["raw_facts", "inferred_parameters"],
            "description": "Audita trazabilidad de evidencia directa con énfasis en estructura documental",
            "cobertura": ["auditoria_estructural"]
          }
        ]
      },
      "ventajas": [
        "Aprovecha estructura documental: tablas y secciones bien definidas",
        "Alta precisión: extracción de datos estructurados es más confiable",
        "Completo: tablas de indicadores típicamente incluyen todos los requisitos",
        "Eficiente: procesamiento estructurado es rápido"
      ],
      "desventajas": [
        "Dependiente de estructura: requiere documentos bien estructurados",
        "Puede perder datos en texto libre: si datos no están en tablas",
        "Menos flexible: asume estructura estándar de documentos"
      ]
    }
  },
  "comparacion": {
    "criterios": [
      "complejidad",
      "trazabilidad",
      "robustez_incertidumbre",
      "dependencia_estructura",
      "velocidad",
      "cobertura_requisitos",
      "defendibilidad",
      "manejo_datos_incompletos"
    ],
    "ranking": {
      "complejidad": {
        "menor": "propuesta_1_semantico_extractivo",
        "mayor": "propuesta_2_hibrido_bayesiano"
      },
      "trazabilidad": {
        "mayor": "propuesta_1_semantico_extractivo",
        "menor": "propuesta_2_hibrido_bayesiano"
      },
      "robustez_incertidumbre": {
        "mayor": "propuesta_2_hibrido_bayesiano",
        "menor": "propuesta_1_semantico_extractivo"
      },
      "cobertura_requisitos": {
        "mayor": "propuesta_3_estructural",
        "menor": "propuesta_1_semantico_extractivo"
      }
    }
  },
  "recomendacion": {
    "propuesta_recomendada": "propuesta_1_semantico_extractivo",
    "justificacion": [
      "Alineación epistemológica: TYPE_A requiere empirismo semántico puro, sin inferencia bayesiana fuerte",
      "Trazabilidad: Máxima trazabilidad de evidencia, crítico para auditoría",
      "Simplicidad: Menor complejidad reduce puntos de falla",
      "Defendibilidad: Enfoque empirista puro es más defendible ante auditoría externa",
      "Cobertura suficiente: Los métodos propuestos cubren todos los requisitos de la pregunta"
    ],
    "alternativa": {
      "condicion": "Si los documentos tienen estructura muy consistente con tablas de indicadores",
      "propuesta": "propuesta_3_estructural",
      "razon": "Puede ser más eficiente y precisa"
    }
  }
}


