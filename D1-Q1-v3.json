{
  "identity": {
    "base_slot": "D1-Q1",
    "representative_question_id": "Q001",
    "dimension_id": "DIM01",
    "policy_area_ids_served": ["PA01", "PA02", "PA03", "PA04", "PA05", "PA06", "PA07", "PA08", "PA09", "PA10"],
    "contracts_served": ["Q001", "Q031", "Q061", "Q091", "Q121", "Q151", "Q181", "Q211", "Q241", "Q271"],
    "contract_type": "TYPE_A",
    "contract_type_name": "Sem√°ntico",
    "contract_type_focus": "Coherencia narrativa, alineaci√≥n tem√°tica, NLP",
    "contract_version": "4.0.0-epistemological",
    "created_at": "2025-12-22T00:00:00Z",
    "specification_source": "guia_diligenciamiento_contratos_v4.md"
  },

  "executor_binding": {
    "executor_class": "D1_Q1_Executor",
    "executor_module": "farfan_pipeline. phases.Phase_two. executors"
  },

  "method_binding": {
    "orchestration_mode": "epistemological_pipeline",
    "contract_type": "TYPE_A",
    "method_count": 17,
    "execution_phases": {
      "phase_A_construction": {
        "description": "Empirical observation layer - direct document extraction without interpretation",
        "level": "N1",
        "level_name": "Base Emp√≠rica",
        "epistemology": "Empirismo positivista",
        "methods": [
          {
            "class_name": "IndustrialPolicyProcessor",
            "method_name": "_extract_point_evidence",
            "mother_file": "policy_processor. py",
            "provides": "industrialpolicyprocessor. extract_point_evidence",
            "level": "N1-EMP",
            "output_type": "FACT",
            "fusion_behavior": "additive",
            "description": "Extrae evidencia puntual del texto como observaci√≥n literal",
            "requires":  []
          },
          {
            "class_name": "CausalExtractor",
            "method_name": "_extract_goals",
            "mother_file": "derek_beach. py",
            "provides": "causalextractor.extract_goals",
            "level": "N1-EMP",
            "output_type": "FACT",
            "fusion_behavior": "additive",
            "description": "Extrae metas y objetivos como segmentos de texto literal",
            "requires": []
          },
          {
            "class_name":  "CausalExtractor",
            "method_name": "_parse_goal_context",
            "mother_file": "derek_beach.py",
            "provides":  "causalextractor.parse_goal_context",
            "level":  "N1-EMP",
            "output_type": "FACT",
            "fusion_behavior":  "additive",
            "description": "Parsea contexto de metas extrayendo texto literal",
            "requires": []
          },
          {
            "class_name":  "FinancialAuditor",
            "method_name": "_parse_amount",
            "mother_file": "derek_beach.py",
            "provides": "financialauditor.parse_amount",
            "level": "N1-EMP",
            "output_type": "FACT",
            "fusion_behavior": "additive",
            "description": "Parsea montos financieros como n√∫meros literales",
            "requires": []
          },
          {
            "class_name": "PDETMunicipalPlanAnalyzer",
            "method_name":  "_extract_financial_amounts",
            "mother_file": "financiero_viabilidad_tablas.py",
            "provides": "pdetmunicipalplananalyzer.extract_financial_amounts",
            "level": "N1-EMP",
            "output_type": "FACT",
            "fusion_behavior": "additive",
            "description": "Extrae montos financieros de tablas del documento",
            "requires": []
          },
          {
            "class_name":  "PDETMunicipalPlanAnalyzer",
            "method_name": "_extract_from_budget_table",
            "mother_file":  "financiero_viabilidad_tablas.py",
            "provides": "pdetmunicipalplananalyzer. extract_from_budget_table",
            "level": "N1-EMP",
            "output_type": "FACT",
            "fusion_behavior": "additive",
            "description": "Extrae datos crudos de tablas presupuestales",
            "requires": []
          },
          {
            "class_name":  "PolicyContradictionDetector",
            "method_name": "_extract_quantitative_claims",
            "mother_file": "contradiction_deteccion. py",
            "provides": "policycontradictiondetector.extract_quantitative_claims",
            "level": "N1-EMP",
            "output_type": "FACT",
            "fusion_behavior": "additive",
            "description": "Extrae afirmaciones cuantitativas del texto",
            "requires": []
          },
          {
            "class_name": "PolicyContradictionDetector",
            "method_name": "_parse_number",
            "mother_file": "contradiction_deteccion.py",
            "provides": "policycontradictiondetector. parse_number",
            "level": "N1-EMP",
            "output_type": "FACT",
            "fusion_behavior": "additive",
            "description": "Parsea n√∫meros del texto como valores literales",
            "requires": []
          },
          {
            "class_name": "SemanticProcessor",
            "method_name": "chunk_text",
            "mother_file":  "semantic_chunking_policy.py",
            "provides": "semanticprocessor.chunk_text",
            "level": "N1-EMP",
            "output_type": "FACT",
            "fusion_behavior": "additive",
            "description": "Segmenta texto en chunks sin transformaci√≥n sem√°ntica",
            "requires": []
          }
        ],
        "dependencies": [],
        "output_target": "raw_facts"
      },

      "phase_B_computation": {
        "description": "Inferential analysis layer - transformation of observations into analytical constructs",
        "level": "N2",
        "level_name": "Procesamiento Inferencial",
        "epistemology": "Bayesianismo subjetivista",
        "methods": [
          {
            "class_name": "TextMiningEngine",
            "method_name": "diagnose_critical_links",
            "mother_file": "analyzer_one.py",
            "provides": "textminingengine. diagnose_critical_links",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "fusion_behavior": "multiplicative",
            "description": "Diagnostica v√≠nculos cr√≠ticos infiriendo relaciones entre elementos",
            "requires": ["raw_facts"],
            "modifies": ["edge_weights"]
          },
          {
            "class_name": "TextMiningEngine",
            "method_name": "_analyze_link_text",
            "mother_file": "analyzer_one.py",
            "provides":  "textminingengine.analyze_link_text",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "fusion_behavior": "multiplicative",
            "description": "Analiza texto de v√≠nculos computando m√©tricas derivadas",
            "requires": ["raw_facts"],
            "modifies": ["edge_weights", "confidence_scores"]
          },
          {
            "class_name": "IndustrialPolicyProcessor",
            "method_name": "process",
            "mother_file": "policy_processor.py",
            "provides": "industrialpolicyprocessor.process",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "fusion_behavior": "multiplicative",
            "description": "Pipeline principal de procesamiento que transforma observaciones en constructos",
            "requires": ["raw_facts"],
            "modifies": ["edge_weights", "confidence_scores"]
          },
          {
            "class_name":  "IndustrialPolicyProcessor",
            "method_name": "_match_patterns_in_sentences",
            "mother_file": "policy_processor.py",
            "provides":  "industrialpolicyprocessor.match_patterns_in_sentences",
            "level":  "N2-INF",
            "output_type": "PARAMETER",
            "fusion_behavior":  "multiplicative",
            "description": "Matchea patrones retornando scores de coincidencia",
            "requires": ["raw_facts"],
            "modifies": ["confidence_scores"]
          },
          {
            "class_name": "BayesianNumericalAnalyzer",
            "method_name": "evaluate_policy_metric",
            "mother_file": "embedding_policy. py",
            "provides": "bayesiannumericalanalyzer.evaluate_policy_metric",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "fusion_behavior": "multiplicative",
            "description": "Evaluaci√≥n bayesiana que produce distribuci√≥n posterior",
            "requires":  ["raw_facts"],
            "modifies": ["confidence_scores", "posterior_distribution"]
          },
          {
            "class_name": "BayesianNumericalAnalyzer",
            "method_name": "compare_policies",
            "mother_file": "embedding_policy.py",
            "provides":  "bayesiannumericalanalyzer. compare_policies",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "fusion_behavior": "multiplicative",
            "description": "Compara pol√≠ticas produciendo m√©tricas de diferencia",
            "requires": ["raw_facts"],
            "modifies": ["edge_weights"]
          },
          {
            "class_name":  "SemanticProcessor",
            "method_name": "embed_single",
            "mother_file": "semantic_chunking_policy. py",
            "provides": "semanticprocessor.embed_single",
            "level": "N2-INF",
            "output_type": "PARAMETER",
            "fusion_behavior": "multiplicative",
            "description": "Genera embedding vectorial del texto",
            "requires": ["raw_facts"],
            "modifies": ["semantic_vectors"]
          }
        ],
        "dependencies": ["phase_A_construction"],
        "output_target": "inferences"
      },

      "phase_C_litigation": {
        "description": "Audit layer - attempt to refute results from Phase B.  Acts as VETO GATE.",
        "level":  "N3",
        "level_name": "Auditor√≠a y Robustez",
        "epistemology":  "Falsacionismo popperiano",
        "asymmetry_principle": "N3 can invalidate N1/N2 findings, but N1/N2 CANNOT invalidate N3",
        "methods":  [
          {
            "class_name": "PolicyContradictionDetector",
            "method_name": "_statistical_significance_test",
            "mother_file": "contradiction_deteccion.py",
            "provides": "policycontradictiondetector.statistical_significance_test",
            "level": "N3-AUD",
            "output_type":  "CONSTRAINT",
            "fusion_behavior": "gate",
            "description": "Test de significancia estad√≠stica que puede VETAR hallazgos",
            "requires": ["raw_facts", "inferences"],
            "modulates": ["raw_facts. confidence", "inferences.confidence"],
            "veto_conditions": {
              "significance_below_threshold": {
                "trigger": "p_value > 0.05",
                "action": "reduce_confidence",
                "scope": "affected_claims",
                "confidence_multiplier": 0.5
              },
              "high_variance_detected": {
                "trigger": "coefficient_of_variation > 0.8",
                "action": "flag_caution",
                "scope": "source_facts",
                "confidence_multiplier": 0.7
              }
            }
          }
        ],
        "dependencies": ["phase_A_construction", "phase_B_computation"],
        "output_target": "audit_results",
        "fusion_mode": "modulation"
      }
    }
  },

  "question_context": {
    "monolith_ref": "Q001",
    "overrides": null,
    "failure_contract": {
      "abort_if":  ["missing_required_element", "incomplete_text", "no_quantitative_data"],
      "emit_code": "ABORT-D1-Q1-REQ"
    }
  },

  "signal_requirements": {
    "derivation_source": "expected_elements",
    "derivation_rules": {
      "mandatory":  "expected_elements[required=true]. type ‚Üí detection_{type}",
      "optional": "expected_elements[required=false].type ‚Üí detection_{type}"
    },
    "signal_aggregation": "weighted_mean",
    "minimum_signal_threshold": 0.5
  },

  "evidence_assembly": {
    "engine":  "EVIDENCE_NEXUS",
    "module": "farfan_pipeline.phases. Phase_two.evidence_nexus",
    "class_name": "EvidenceNexus",
    "method_name": "assemble",
    "type_system": {
      "FACT": {
        "origin_level": "N1",
        "fusion_operation": "graph_node_addition",
        "merge_behavior": "additive",
        "symbol":  "‚äï"
      },
      "PARAMETER": {
        "origin_level": "N2",
        "fusion_operation":  "edge_weight_modification",
        "merge_behavior": "multiplicative",
        "symbol": "‚äó"
      },
      "CONSTRAINT": {
        "origin_level": "N3",
        "fusion_operation":  "branch_filtering",
        "merge_behavior": "gate",
        "symbol": "‚äò"
      },
      "NARRATIVE": {
        "origin_level": "N4",
        "fusion_operation":  "synthesis",
        "merge_behavior": "terminal",
        "symbol": "‚äô"
      }
    },
    "assembly_rules": [
      {
        "rule_id": "R1_empirical_extraction",
        "rule_type": "empirical_basis",
        "target":  "raw_facts",
        "sources": [
          "industrialpolicyprocessor. extract_point_evidence",
          "causalextractor.extract_goals",
          "causalextractor.parse_goal_context",
          "financialauditor.parse_amount",
          "pdetmunicipalplananalyzer.extract_financial_amounts",
          "pdetmunicipalplananalyzer. extract_from_budget_table",
          "policycontradictiondetector.extract_quantitative_claims",
          "policycontradictiondetector.parse_number",
          "semanticprocessor.chunk_text"
        ],
        "merge_strategy": "concat_with_deduplication",
        "deduplication_key": "element_id",
        "output_type": "FACT",
        "confidence_propagation": "preserve_individual"
      },
      {
        "rule_id": "R2_semantic_triangulation",
        "rule_type": "corroboration",
        "target": "triangulated_facts",
        "sources": [
          "textminingengine. diagnose_critical_links",
          "textminingengine.analyze_link_text",
          "industrialpolicyprocessor.process",
          "industrialpolicyprocessor. match_patterns_in_sentences",
          "bayesiannumericalanalyzer.evaluate_policy_metric",
          "bayesiannumericalanalyzer.compare_policies",
          "semanticprocessor.embed_single"
        ],
        "input_dependencies": ["raw_facts"],
        "merge_strategy":  "semantic_triangulation",
        "operation": {
          "description": "If multiple methods detect same datum, merge nodes and increase confidence",
          "corroboration_formula": "confidence_new = 1 - ‚àè(1 - conf_i)",
          "semantic_similarity_threshold": 0.85
        },
        "output_type": "PARAMETER",
        "confidence_propagation": "corroborative_boost"
      },
      {
        "rule_id": "R3_audit_gate",
        "rule_type": "robustness_gate",
        "target": "validated_facts",
        "sources": [
          "policycontradictiondetector. statistical_significance_test"
        ],
        "input_dependencies": ["raw_facts", "triangulated_facts"],
        "merge_strategy": "veto_gate",
        "output_type": "CONSTRAINT",
        "gate_logic": {
          "contradiction_detected": {
            "action": "suppress_fact",
            "confidence_multiplier": 0.0,
            "scope":  "contradicting_nodes"
          },
          "low_coherence":  {
            "action": "reduce_confidence",
            "confidence_multiplier": 0.5,
            "scope": "affected_subgraph"
          },
          "significance_failed": {
            "action": "flag_caution",
            "confidence_multiplier": 0.7,
            "scope": "source_facts"
          }
        }
      },
      {
        "rule_id":  "R4_narrative_synthesis",
        "rule_type": "synthesis",
        "target": "human_answer",
        "sources":  [],
        "input_dependencies": ["validated_facts", "triangulated_facts", "audit_results"],
        "merge_strategy": "carver_doctoral_synthesis",
        "output_type":  "NARRATIVE",
        "external_handler": {
          "class":  "DoctoralCarverSynthesizer",
          "module": "farfan_pipeline.phases. Phase_two.carver"
        }
      }
    ]
  },

  "fusion_specification": {
    "contract_type": "TYPE_A",
    "primary_strategy": "semantic_triangulation",
    "level_strategies": {
      "N1_fact_fusion": {
        "strategy": "semantic_corroboration",
        "behavior": "additive",
        "conflict_resolution": "corroborative_stacking",
        "formula": "confidence_combined = 1 - ‚àè(1 - conf_i)"
      },
      "N2_parameter_fusion": {
        "strategy": "dempster_shafer",
        "behavior": "multiplicative",
        "conflict_resolution": "belief_combination",
        "affects":  ["N1_facts. confidence", "N1_facts.edge_weights"]
      },
      "N3_constraint_fusion": {
        "strategy": "veto_gate",
        "behavior": "gate",
        "asymmetry_principle": "audit_dominates",
        "propagation":  {
          "upstream":  "confidence_backpropagation",
          "downstream":  "branch_blocking"
        }
      }
    },
    "fusion_pipeline": {
      "stage_1_fact_accumulation": {
        "input":  "phase_A_construction. outputs",
        "operation": "BUILD evidence graph from extracted facts",
        "output": "evidence_graph_v1",
        "type_consumed": "FACT"
      },
      "stage_2_parameter_application": {
        "input": ["evidence_graph_v1", "phase_B_computation.outputs"],
        "operation": "MODIFY edge weights based on inferred parameters",
        "output": "evidence_graph_v2_weighted",
        "type_consumed": "PARAMETER"
      },
      "stage_3_constraint_filtering": {
        "input": ["evidence_graph_v2_weighted", "phase_C_litigation.outputs"],
        "operation": "FILTER/BLOCK branches that fail validation",
        "output": "evidence_graph_v3_validated",
        "type_consumed": "CONSTRAINT"
      },
      "stage_4_synthesis": {
        "input": "evidence_graph_v3_validated",
        "operation": "GENERATE narrative from validated graph",
        "output": "human_answer",
        "type_produced": "NARRATIVE"
      }
    }
  },

  "cross_layer_fusion":  {
    "N1_to_N2":  {
      "relationship": "N2 reads N1 facts",
      "effect": "N2 computes parameters FROM N1 observations",
      "data_flow": "forward_propagation"
    },
    "N2_to_N1": {
      "relationship": "N2 modifies N1 confidence",
      "effect": "Edge weights adjust fact confidence scores",
      "data_flow": "confidence_backpropagation"
    },
    "N3_to_N1": {
      "relationship": "N3 can BLOCK N1 facts",
      "effect":  "Failed constraints remove facts from graph",
      "data_flow": "veto_propagation",
      "asymmetry":  "N1 CANNOT invalidate N3"
    },
    "N3_to_N2": {
      "relationship": "N3 can INVALIDATE N2 parameters",
      "effect": "Failed constraints nullify parameter modifications",
      "data_flow": "inference_modulation",
      "asymmetry": "N2 CANNOT invalidate N3"
    },
    "all_to_N4": {
      "relationship": "N4 consumes validated outputs from all layers",
      "effect": "Synthesis constructs narrative from filtered graph",
      "data_flow": "terminal_aggregation"
    },
    "blocking_propagation_rules": {
      "statistical_significance_failed": {
        "triggered_by": "PolicyContradictionDetector._statistical_significance_test",
        "action": "block_branch",
        "scope": "source_facts",
        "propagation":  "downstream_only"
      },
      "logical_contradiction":  {
        "triggered_by": "PolicyContradictionDetector._detect_logical_incompatibilities",
        "action": "block_branch",
        "scope": "contradicting_nodes",
        "propagation":  "both"
      }
    }
  },

  "human_answer_structure":  {
    "format": "markdown",
    "template_mode": "epistemological_narrative",
    "contract_type": "TYPE_A",
    "sections": [
      {
        "section_id": "S1_verdict",
        "title": "### Veredicto",
        "layer": "N4",
        "data_source": "synthesis_output",
        "narrative_style": "declarative",
        "template": {
          "structure": [
            "**Conclusi√≥n**: {verdict_statement}",
            "",
            "**Confianza Global**: {final_confidence_pct}% ({confidence_label})",
            "",
            "**Base Metodol√≥gica**: {method_count} m√©todos ejecutados, {audit_count} validaciones, {blocked_count} ramas bloqueadas."
          ]
        },
        "argumentative_role": "SYNTHESIS"
      },
      {
        "section_id": "S2_empirical_base",
        "title": "### Base Emp√≠rica:  Hechos Observados",
        "layer": "N1",
        "data_source": "validated_facts",
        "narrative_style":  "descriptive",
        "template": {
          "structure":  [
            "**Elementos Detectados**: {fact_count} hechos extra√≠dos de {document_coverage_pct}% del texto.",
            "",
            "**Fuentes Oficiales Identificadas**:",
            "{official_sources_list}",
            "",
            "**Indicadores Cuantitativos**:",
            "{quantitative_indicators_list}",
            "",
            "**Cobertura Temporal**:  {temporal_coverage}",
            "",
            "**Cobertura Territorial**: {territorial_coverage}"
          ]
        },
        "argumentative_role": "EMPIRICAL_BASIS",
        "epistemological_note": {
          "include_in_output": true,
          "text": "üìã *Nota:  Observaciones directas del documento fuente, verificables en texto original.*"
        }
      },
      {
        "section_id": "S3_robustness_audit",
        "title": "### An√°lisis de Robustez:  Validaci√≥n y Limitaciones",
        "layer": "N3",
        "data_source": "audit_results",
        "narrative_style":  "critical",
        "template": {
          "structure": [
            "{veto_alert}",
            "",
            "**Validaciones Ejecutadas**:  {validation_count} pruebas de robustez",
            "",
            "**Contradicciones Detectadas**: {contradiction_count}",
            "{contradiction_details}",
            "",
            "**Hechos Suprimidos**: {suppressed_count} observaciones eliminadas",
            "{suppression_details}",
            "",
            "**Modulaciones de Confianza**:",
            "{confidence_adjustments}",
            "",
            "**Limitaciones Metodol√≥gicas**:",
            "{limitations_list}"
          ]
        },
        "argumentative_role": "ROBUSTNESS_QUALIFIER",
        "veto_display": {
          "if_veto_triggered": "‚õî **MODELO INV√ÅLIDO**:  {veto_reason}.  NO usar para toma de decisiones.",
          "if_partial_veto":  "‚ö†Ô∏è **ROBUSTEZ PARCIAL**: {partial_veto_count} hallazgos invalidados.",
          "if_no_veto":  "‚úÖ **VALIDACI√ìN COMPLETA**:  Todos los hallazgos sobrevivieron refutaci√≥n."
        },
        "epistemological_note":  {
          "include_in_output":  true,
          "text": "üî¨ *Nota:  Falsacionismo popperiano aplicado.  Lo que sobrevive el escrutinio es epistemol√≥gicamente robusto.*"
        }
      },
      {
        "section_id":  "S4_gaps",
        "title":  "### Puntos Ciegos:  Evidencia Faltante",
        "layer": "N4-META",
        "data_source": "gap_analysis",
        "narrative_style":  "diagnostic",
        "template": {
          "structure": [
            "**M√©todos sin Resultados**: {empty_methods_count} de {total_methods}",
            "{empty_methods_details}",
            "",
            "**Elementos Esperados no Encontrados**:",
            "{missing_elements_list}",
            "",
            "**Cobertura de Validaciones**:",
            "- Patterns:  {patterns_executed}/{patterns_total} ({pattern_coverage_pct}%)",
            "- Fuentes: {sources_found}/{sources_expected}",
            "",
            "**Impacto en Confianza**:",
            "{gap_impact_assessment}"
          ]
        },
        "argumentative_role": "META_TRACEABILITY",
        "epistemological_note": {
          "include_in_output": true,
          "text": "üîç *Nota: Reflexividad cr√≠tica.  Reportamos lo que NO encontramos y su impacto.*"
        }
      }
    ],
    "argumentative_roles": {
      "N1_roles": [
        {
          "role":  "EMPIRICAL_BASIS",
          "description": "Hecho observable innegable",
          "narrative_weight": "high",
          "linguistic_markers": ["Se detect√≥", "El documento contiene", "Se identificaron"]
        }
      ],
      "N2_roles": [
        {
          "role":  "INFERENTIAL_BRIDGE",
          "description": "Conexi√≥n l√≥gica derivada",
          "narrative_weight": "medium",
          "linguistic_markers": ["El an√°lisis sugiere", "Con X% de confianza", "Se infiere que"]
        },
        {
          "role": "CONTEXTUAL_QUALIFIER",
          "description": "Condiciona validez a contexto",
          "narrative_weight":  "medium",
          "linguistic_markers": ["En el contexto de", "Aplicable cuando", "Condicionado a"]
        }
      ],
      "N3_roles":  [
        {
          "role": "ROBUSTNESS_QUALIFIER",
          "description": "Advertencia de calidad/limitaci√≥n",
          "narrative_weight": "high",
          "linguistic_markers": ["Sin embargo", "Limitaci√≥n:", "Precauci√≥n: "]
        },
        {
          "role": "REFUTATIONAL_SIGNAL",
          "description": "Evidencia que contradice",
          "narrative_weight":  "critical",
          "linguistic_markers": ["CONTRADICCI√ìN:", "Invalidado por", "Incompatible con"],
          "triggers_veto": true
        },
        {
          "role": "FINANCIAL_CONSTRAINT",
          "description": "L√≠mite presupuestal",
          "narrative_weight": "critical",
          "linguistic_markers": ["Insuficiencia:", "Gap presupuestal:", "D√©ficit de"]
        },
        {
          "role": "LOGICAL_INCONSISTENCY",
          "description": "Contradicci√≥n l√≥gica",
          "narrative_weight": "critical",
          "linguistic_markers": ["Inconsistencia l√≥gica:", "Secuencia inv√°lida:", "Ciclo detectado: "],
          "triggers_veto": true
        }
      ],
      "N4_roles": [
        {
          "role": "META_TRACEABILITY",
          "description": "Calidad del proceso anal√≠tico",
          "narrative_weight":  "medium",
          "linguistic_markers": ["Metodol√≥gicamente", "El an√°lisis cubri√≥", "Se ejecutaron"]
        }
      ]
    },
    "confidence_interpretation": {
      "critical":  {
        "range": [0, 19],
        "label": "INV√ÅLIDO",
        "description": "Veto activado.  Modelo t√©cnicamente inv√°lido.",
        "display":  "üî¥",
        "color_code": "#DC3545"
      },
      "low": {
        "range": [20, 49],
        "label": "D√âBIL",
        "description": "Evidencia insuficiente o contradicciones detectadas.",
        "display":  "üü†",
        "color_code": "#FD7E14"
      },
      "medium": {
        "range": [50, 79],
        "label": "MODERADO",
        "description": "Evidencia presente con limitaciones menores.",
        "display": "üü°",
        "color_code": "#FFC107"
      },
      "high":  {
        "range": [80, 100],
        "label": "ROBUSTO",
        "description": "M√∫ltiples corroboraciones, sin contradicciones, auditor√≠as pasadas.",
        "display": "üü¢",
        "color_code": "#28A745"
      }
    },
    "narrative_generation_rules": {
      "ordering":  {
        "sequence": ["S1_verdict", "S2_empirical_base", "S3_robustness_audit", "S4_gaps"]
      },
      "length_constraints": {
        "S1_verdict": {"max_words": 150},
        "S2_empirical_base": {"max_words": 400},
        "S3_robustness_audit": {"max_words": 500},
        "S4_gaps": {"max_words": 300}
      },
      "linguistic_consistency": {
        "avoid":  ["probablemente", "quiz√°s", "tal vez", "parece que"],
        "prefer": ["con X% de confianza", "la evidencia indica", "el an√°lisis muestra"]
      }
    }
  },

  "output_contract": {
    "result_type": "Phase2QuestionResult",
    "schema":  {
      "type": "object",
      "required": ["base_slot", "question_id", "evidence", "score", "human_answer"],
      "properties": {
        "base_slot": {"type": "string", "const": "D1-Q1"},
        "question_id": {"type":  "string"},
        "dimension_id": {"type": "string"},
        "policy_area_id": {"type":  "string"},
        "score": {"type": "number", "minimum":  0, "maximum": 1},
        "confidence_label": {"type": "string", "enum": ["INV√ÅLIDO", "D√âBIL", "MODERADO", "ROBUSTO"]},
        "evidence":  {"type": "object"},
        "human_answer": {"type":  "string"},
        "epistemological_trace": {
          "type":  "object",
          "properties": {
            "n1_facts_count": {"type": "number"},
            "n2_inferences_count": {"type": "number"},
            "n3_validations_count": {"type": "number"},
            "veto_triggered": {"type": "boolean"},
            "blocked_branches": {"type": "array"}
          }
        },
        "validation":  {"type": "object"},
        "metadata": {"type": "object"}
      }
    }
  },

  "validation_rules": {
    "na_policy": "abort_on_critical",
    "derivation_source": "expected_elements",
    "engine":  "VALIDATION_ENGINE",
    "module": "farfan_pipeline. phases.Phase_two.evidence_nexus",
    "class_name": "ValidationEngine",
    "method_name": "validate"
  },

  "error_handling": {
    "on_method_not_found": "raise",
    "on_method_failure": "propagate_with_trace",
    "on_assembly_failure": "propagate_with_trace",
    "failure_contract": {
      "abort_if": ["missing_required_element", "incomplete_text"],
      "emit_code": "ABORT-D1-Q1-REQ"
    }
  },

  "traceability":  {
    "canonical_sources": {
      "questionnaire": "canonic_questionnaire_central/questionnaire_monolith.json",
      "method_inventory": "src/farfan_pipeline/phases/Phase_two/json_files_phase_two/canonical_methods_triangulated.json",
      "method_classification": "method_classification_all_30. json",
      "epistemological_guide": "guia_diligenciamiento_contratos_v4.md"
    },
    "generation":  {
      "method":  "v4_epistemological_generation",
      "timestamp": "2025-12-22T00:00:00Z",
      "generator_version": "1.0.0"
    },
    "refactoring_history": [
      {
        "from_version": "3.0.0",
        "to_version": "4.0.0-epistemological",
        "date": "2025-12-22T00:00:00Z",
        "changes": [
          "Introduced execution_phases (A/B/C) replacing flat methods array",
          "Classified methods by epistemological level (N1/N2/N3/N4)",
          "Typed outputs (FACT/PARAMETER/CONSTRAINT/NARRATIVE)",
          "Implemented asymmetric veto_gate for N3",
          "Restructured assembly_rules into 4 typed rules",
          "Added fusion_specification with level-specific strategies",
          "Implemented cross_layer_fusion with explicit asymmetry",
          "Restructured human_answer_structure into 4 epistemological sections"
        ],
        "epistemological_framework": {
          "N1":  "Empirismo positivista",
          "N2": "Bayesianismo subjetivista",
          "N3":  "Falsacionismo popperiano",
          "N4": "Reflexividad cr√≠tica"
        }
      }
    ]
  },

  "compatibility":  {
    "questionnaire_monolith_version": "3.0.0",
    "version_detection": "runtime",
    "minimum_requirements": {
      "signal_registry": "MicroAnsweringSignalPack support",
      "hydrator":  "ContractHydrator v1.0.0",
      "carver": "DoctoralCarverSynthesizer v3.0.0",
      "evidence_nexus": "EvidenceNexus v2.0.0"
    }
  },

  "calibration": {
    "status": "runtime",
    "sources": {
      "intrinsic_calibration": "config/intrinsic_calibration.json",
      "fusion_specification": "config/fusion_specification.json"
    }
  }
}
